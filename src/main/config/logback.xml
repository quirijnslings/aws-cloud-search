<?xml version="1.0" encoding="UTF-8"?>
<configuration scan="true" scanPeriod="60 seconds">

    <property name="log.pattern" value="%date %-5level [%thread] %logger{0} - %message%n" />
    <property name="log.history" value="7" />
    <property name="log.folder" value="D:/Temp/CA/Log/deployer" />
    <property name="log.level" value="DEBUG" />
    <property name="log.encoding" value="UTF-8" />


    <appender name="rollingADFLog" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>${log.folder}/cd_adf.%d{yyyy-MM-dd}.log</fileNamePattern>
            <maxHistory>${log.history}</maxHistory>
        </rollingPolicy>
        <encoder>
            <charset>${log.encoding}</charset>
            <pattern>${log.pattern}</pattern>
        </encoder>
        <prudent>true</prudent>
    </appender>
    <appender name="rollingCoreLog" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <filter class="com.sdl.delivery.deployer.configuration.logback.CustomLogbackFilter" />
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>${log.folder}/cd_core.%d{yyyy-MM-dd}.log</fileNamePattern>
            <maxHistory>${log.history}</maxHistory>
        </rollingPolicy>
        <encoder>
            <charset>${log.encoding}</charset>
            <pattern>${log.pattern}</pattern>
        </encoder>
        <prudent>true</prudent>
    </appender>
    <appender name="rollingDeployerLog" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <filter class="com.sdl.delivery.deployer.configuration.logback.CustomLogbackFilter" />
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>${log.folder}/cd_deployer.%d{yyyy-MM-dd}.log</fileNamePattern>
            <maxHistory>${log.history}</maxHistory>
        </rollingPolicy>
        <encoder>
            <charset>${log.encoding}</charset>
            <pattern>${log.pattern}</pattern>
        </encoder>
        <prudent>true</prudent>
    </appender>
    <appender name="rollingOAuthLog" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>${log.folder}/cd_oauth.%d{yyyy-MM-dd}.log</fileNamePattern>
            <maxHistory>${log.history}</maxHistory>
        </rollingPolicy>
        <encoder>
            <charset>${log.encoding}</charset>
            <pattern>${log.pattern}</pattern>
        </encoder>
        <prudent>true</prudent>
    </appender>
    <appender name="rollingODataLog" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>${log.folder}/cd_odata.%d{yyyy-MM-dd}.log</fileNamePattern>
            <maxHistory>${log.history}</maxHistory>
        </rollingPolicy>
        <encoder>
            <charset>${log.encoding}</charset>
            <pattern>${log.pattern}</pattern>
        </encoder>
        <prudent>true</prudent>
    </appender>
    <appender name="rollingTransportLog" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>${log.folder}/cd_transport.%d{yyyy-MM-dd}.log</fileNamePattern>
            <maxHistory>${log.history}</maxHistory>
        </rollingPolicy>
        <encoder>
            <charset>${log.encoding}</charset>
            <pattern>${log.pattern}</pattern>
        </encoder>
        <prudent>true</prudent>
    </appender>
    <appender name="rollingLibraryLog" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <filter class="com.sdl.delivery.deployer.configuration.logback.CustomLogbackFilter" />
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>${log.folder}/cd_library.%d{yyyy-MM-dd}.log</fileNamePattern>
            <maxHistory>${log.history}</maxHistory>
        </rollingPolicy>
        <encoder>
            <charset>${log.encoding}</charset>
            <pattern>${log.pattern}</pattern>
        </encoder>
        <prudent>true</prudent>
    </appender>

    <logger name="com.tridion" level="DEBUG" />
    <logger name="com.sdl" level="DEBUG" />
    <logger name="org.si4t" level="DEBUG" />
    <logger name="com.amazonaws" level="DEBUG" />
    <logger name="org.springframework.web" level="DEBUG" />

    <logger name="com.sdl.web.ambient">
        <appender-ref ref="rollingADFLog" />
    </logger>
    <logger name="com.tridion.ambientdata">
        <appender-ref ref="rollingADFLog" />
    </logger>
    <logger name="Tridion.ContentDelivery" level="DEBUG">
        <appender-ref ref="rollingCoreLog" />
    </logger>
    <logger name="com.sdl.web" additivity="false">
        <appender-ref ref="rollingCoreLog" />
    </logger>
    <logger name="com.sdl.delivery.deployer">
        <appender-ref ref="rollingDeployerLog" />
    </logger>
    <logger name="com.tridion.transport.transportpackage">
        <appender-ref ref="rollingDeployerLog" />
    </logger>
    <logger name="com.tridion.transformer">
        <appender-ref ref="rollingDeployerLog" />
    </logger>
    <logger name="com.tridion.deployer">
        <appender-ref ref="rollingDeployerLog" />
    </logger>
    <logger name="com.tridion.tcdl">
        <appender-ref ref="rollingDeployerLog" />
    </logger>
    <logger name="com.tridion.event">
        <appender-ref ref="rollingDeployerLog" />
    </logger>
    <logger name="com.sdl.web.oauth">
        <appender-ref ref="rollingOAuthLog" />
    </logger>
    <logger name="com.sdl.odata">
        <appender-ref ref="rollingODataLog" />
    </logger>
    <logger name="com.tridion.transport">
        <appender-ref ref="rollingTransportLog" />
    </logger>
    <logger name="org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping" additivity="false">
        <appender-ref ref="rollingCoreLog" />
    </logger>

    <logger name="org.springframework" level="WARN" additivity="false">
        <appender-ref ref="rollingLibraryLog" />
    </logger>

    <logger name="org.hibernate.engine.jdbc.spi.SqlExceptionHelper" level="INFO" additivity="true">
        <appender-ref ref="rollingLibraryLog" />
    </logger>
    <logger name="org.hibernate.orm.deprecation" level="ERROR" additivity="false">
        <appender-ref ref="rollingLibraryLog" />
    </logger>
    <logger name="org.hibernate" level="WARN" additivity="true">
        <appender-ref ref="rollingLibraryLog" />
    </logger>

    <logger name="org.hibernate.engine.internal.StatefulPersistenceContext" level="ERROR" additivity="false">
        <appender-ref ref="rollingLibraryLog" />
    </logger>




    <root level="ERROR">
        <appender-ref ref="rollingCoreLog" />
    </root>
</configuration>